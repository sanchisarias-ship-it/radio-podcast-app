<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Radio & Podcast App</title>

<style>
body { font-family: Arial; margin:0; background:#f2f2f2; }
header { background:#111; color:white; padding:15px; text-align:center; }
nav { display:flex; background:#222; }
nav button { flex:1; padding:12px; background:#222; color:white; border:none; }
nav button.active { background:#444; }

.section { display:none; padding:15px; }
.section.active { display:block; }

.card { background:white; padding:15px; border-radius:10px; margin-bottom:10px; }
input, button { padding:10px; width:100%; margin-top:5px; }
audio { width:100%; margin-top:10px; }
</style>
</head>

<body>

<header>üìª Radio & Podcast App</header>

<nav>
  <button onclick="show('radios')" class="active">Radios</button>
  <button onclick="show('podcasts')">Podcasts</button>
  <button onclick="show('favoritos')">Favoritos</button>
</nav>

<!-- RADIOS -->
<div id="radios" class="section active">
  <h3>üìª Mis emisoras</h3>

  <div class="card">
    <input id="radioName" placeholder="Nombre de la emisora">
    <input id="radioUrl" placeholder="URL del stream (mp3)">
    <button onclick="addRadio()">‚ûï A√±adir emisora</button>
  </div>

  <div id="radioList"></div>
</div>

<!-- PODCASTS -->
<div id="podcasts" class="section">
  <h3>üéôÔ∏è Mis podcasts</h3>

  <div class="card">
    <input id="podcastName" placeholder="Nombre del podcast">
    <input id="podcastAudio" placeholder="URL del episodio (mp3)">
    <button onclick="addPodcast()">‚ûï A√±adir episodio</button>
  </div>

  <div id="podcastList"></div>
</div>

<!-- FAVORITOS -->
<div id="favoritos" class="section">
  <h3>‚≠ê Favoritos</h3>
  <div id="favList"></div>
</div>

<!-- REPRODUCTOR -->
<div class="section active">
  <h3>‚ñ∂ Reproductor</h3>
  <audio id="player" controls></audio>
</div>

<script>
function show(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
}

function play(url) {
  const player = document.getElementById("player");
  player.src = url;
  player.play();
}

// RADIOS
function addRadio() {
  const name = document.getElementById("radioName").value;
  const url = document.getElementById("radioUrl").value;
  if (!name || !url) return;

  let radios = JSON.parse(localStorage.getItem("radios") || "[]");
  radios.push({name, url});
  localStorage.setItem("radios", JSON.stringify(radios));

  document.getElementById("radioName").value = "";
  document.getElementById("radioUrl").value = "";
  loadRadios();
}

function loadRadios() {
  const list = document.getElementById("radioList");
  list.innerHTML = "";
  let radios = JSON.parse(localStorage.getItem("radios") || "[]");

  radios.forEach(r => {
    let div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <strong>${r.name}</strong>
      <button onclick="play('${r.url}')">‚ñ∂ Escuchar</button>
      <button onclick="favItem('${r.name}','${r.url}')">‚≠ê Favorito</button>
    `;
    list.appendChild(div);
  });
}

// PODCASTS
function addPodcast() {
  const name = document.getElementById("podcastName").value;
  const audio = document.getElementById("podcastAudio").value;
  if (!name || !audio) return;

  let podcasts = JSON.parse(localStorage.getItem("podcasts") || "[]");
  podcasts.push({name, audio});
  localStorage.setItem("podcasts", JSON.stringify(podcasts));

  document.getElementById("podcastName").value = "";
  document.getElementById("podcastAudio").value = "";
  loadPodcasts();
}

function loadPodcasts() {
  const list = document.getElementById("podcastList");
  list.innerHTML = "";
  let podcasts = JSON.parse(localStorage.getItem("podcasts") || "[]");

  podcasts.forEach(p => {
    let div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <strong>${p.name}</strong>
      <button onclick="play('${p.audio}')">‚ñ∂ Escuchar</button>
      <button onclick="favItem('${p.name}','${p.audio}')">‚≠ê Favorito</button>
    `;
    list.appendChild(div);
  });
}

// FAVORITOS
function favItem(name, url) {
  let favs = JSON.parse(localStorage.getItem("favs") || "[]");
  if (!favs.find(f => f.name === name)) {
    favs.push({name, url});
    localStorage.setItem("favs", JSON.stringify(favs));
    loadFavs();
  }
}

function loadFavs() {
  const list = document.getElementById("favList");
  list.innerHTML = "";
  let favs = JSON.parse(localStorage.getItem("favs") || "[]");

  favs.forEach(f => {
    let div = document.createElement("div");
    div.className = "card";
    div.innerHTML = `
      <strong>${f.name}</strong>
      <button onclick="play('${f.url}')">‚ñ∂ Escuchar</button>
    `;
    list.appendChild(div);
  });
}

loadRadios();
loadPodcasts();
loadFavs();
</script>

</body>
</html>
